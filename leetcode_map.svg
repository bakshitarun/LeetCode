# generate_map.py
# Creates leetcode_map.svg: a 3736-cell grid highlighting completed problem IDs.

TOTAL = 3736

# Choose a grid that fits nicely on GitHub.
# 44 x 85 = 3740 cells, so we mark the last 4 as unused (N/A).
ROWS = 44
COLS = 85
CELLS = ROWS * COLS
UNUSED = CELLS - TOTAL  # 4

# Your completed IDs (as integers)
COMPLETED = {180, 181, 182, 183, 1768}

# Colors (GitHub dark-ish)
BG = "#0d1117"
PENDING = "#161b22"
DONE = "#39d353"
BORDER = "#30363d"
NA = "#0b0f14"

# Cell geometry
SIZE = 10       # square size
GAP = 2         # gap between squares
PAD = 10        # outer padding
RADIUS = 2      # rounded corners

W = PAD * 2 + COLS * SIZE + (COLS - 1) * GAP
H = PAD * 2 + ROWS * SIZE + (ROWS - 1) * GAP

def fmt_id(n: int) -> str:
    return f"{n:04d}"

def cell_xy(idx: int):
    r = idx // COLS
    c = idx % COLS
    x = PAD + c * (SIZE + GAP)
    y = PAD + r * (SIZE + GAP)
    return x, y

def main():
    parts = []
    parts.append(f'<svg xmlns="http://www.w3.org/2000/svg" width="{W}" height="{H}" viewBox="0 0 {W} {H}" role="img">')
    parts.append(f'<rect width="100%" height="100%" fill="{BG}"/>')

    # Draw cells 1..3736
    for i in range(TOTAL):
        pid = i + 1
        x, y = cell_xy(i)
        color = DONE if pid in COMPLETED else PENDING
        title = f"{fmt_id(pid)}" + (" âœ…" if pid in COMPLETED else "")
        parts.append(
            f'<rect x="{x}" y="{y}" width="{SIZE}" height="{SIZE}" rx="{RADIUS}" fill="{color}" stroke="{BORDER}" stroke-width="1">'
            f'<title>{title}</title>'
            f'</rect>'
        )

    # Draw unused tail cells (N/A) so the grid remains rectangular
    for j in range(UNUSED):
        idx = TOTAL + j
        x, y = cell_xy(idx)
        parts.append(
            f'<rect x="{x}" y="{y}" width="{SIZE}" height="{SIZE}" rx="{RADIUS}" fill="{NA}" stroke="{BORDER}" stroke-width="1">'
            f'<title>N/A</title>'
            f'</rect>'
        )

    parts.append("</svg>")

    with open("leetcode_map.svg", "w", encoding="utf-8") as f:
        f.write("\n".join(parts))

    print("Wrote leetcode_map.svg")

if __name__ == "__main__":
    main()
